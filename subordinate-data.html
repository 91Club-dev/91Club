<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Subordinate Data</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background: #f5f6fa;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 0;
        }
        .header {
            background: #fff;
            padding: 16px 0;
            text-align: center;
            font-size: 20px;
            font-weight: 500;
            position: relative;
            border-bottom: 1px solid #eee;
        }
        .header .back {
            position: absolute;
            left: 16px;
            top: 16px;
            font-size: 22px;
            color: #333;
            text-decoration: none;
        }
        .search-bar {
            display: flex;
            align-items: center;
            background: #fff;
            margin: 16px;
            border-radius: 8px;
            padding: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.03);
        }
        .search-bar input {
            border: none;
            outline: none;
            flex: 1;
            font-size: 13px;
            background: transparent;
            padding: 8px;
        }
        .search-bar button {
            background: #ff6b5a;
            border: none;
            color: #fff;
            border-radius: 30%;
            width: 38px;
            height: 28px;
            font-size: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .filters {
            display: flex;
            gap: 10px;
            margin: 0 16px 16px 16px;
        }
        .filters select {
            flex: 1;
            padding: 8px;
            border-radius: 6px;
            border: 1px solid #eee;
            background: #fff;
            font-size: 12px;
        }
        .stats-box {
            background: #ff6b5a;
            color: #fff;
            border-radius: 14px;
            margin: 0 16px 24px 16px;
            padding: 16px 6px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-row-gap: 12px;
            grid-column-gap: 0;
            font-size: 12px;
        }
        .stats-box .stat {
            text-align: center;
        }
        .stats-box .stat .value {
            font-size: 15px;
            font-weight: bold;
        }
        .no-data {
            text-align: center;
            color: #bbb;
            margin-top: 40px;
            font-size: 13px;
        }
        .no-data-img {
            display: none;
        }
        .no-data-icon {
            display: none;
        }
        .date-modal-overlay {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0; top: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.18);
            justify-content: center;
            align-items: flex-end;
        }
        .date-modal-overlay.active {
            display: flex;
        }
        .date-modal {
            width: 100vw;
            max-width: 500px;
            background: #fff;
            border-radius: 18px 18px 0 0;
            box-shadow: 0 0 16px rgba(0,0,0,0.08);
            padding: 0 0 10px 0;
            position: relative;
            animation: slideUp .2s;
        }
        @keyframes slideUp {
            from { transform: translateY(100%);}
            to { transform: translateY(0);}
        }
        .date-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 18px 10px 18px;
            font-size: 17px;
            font-weight: 500;
        }
        .date-modal-header .cancel {
            color: #888;
            font-size: 15px;
            cursor: pointer;
        }
        .date-modal-header .confirm {
            color: #1abc1a;
            font-size: 15px;
            cursor: pointer;
        }
        .date-modal-header .title {
            color: #111;
            font-size: 16px;
            font-weight: bold;
        }
        .date-picker-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 18px 10px 18px;
        }
        .date-picker-row select {
            font-size: 18px;
            padding: 6px 8px;
            border-radius: 8px;
            border: 1px solid #eee;
            background: #f7f7f7;
            margin: 0 2px;
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="index.html" class="back">&#8592;</a>
        Subordinate data
    </div>
    <div class="search-bar">
        <input type="text" placeholder="Search subordinate UID">
        <button aria-label="Search">
            <svg width="15" height="15" viewBox="0 0 20 20" fill="white" xmlns="http://www.w3.org/2000/svg">
                <circle cx="9" cy="9" r="7" stroke="white" stroke-width="2" fill="none"/>
                <line x1="14" y1="14" x2="19" y2="19" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
    </div>
    <div class="filters">
        <select>
            <option>All</option>
        </select>
        <div id="date-select" style="flex:1;position:relative;">
            <button id="openDateModal" style="width:100%;padding:8px 0;border-radius:6px;border:1px solid #eee;background:#fff;font-size:12px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;">
                <span id="selectedDate">2025-04-25</span>
                <span style="font-size:14px;margin-left:6px;">&#9662;</span>
            </button>
        </div>
    </div>
    <div class="stats-box" id="statsBox">
        <div class="stat">
            <div class="value" id="depositNumber">0</div>
            <div>Deposit number</div>
        </div>
        <div class="stat">
            <div class="value" id="depositAmount">0</div>
            <div>Deposit amount</div>
        </div>
        <div class="stat">
            <div class="value" id="numBettors">0</div>
            <div>Number of bettors</div>
        </div>
        <div class="stat">
            <div class="value" id="totalBet">0</div>
            <div>Total bet</div>
        </div>
        <div class="stat">
            <div class="value" id="numFirstDeposit">0</div>
            <div>Number of people making first deposit</div>
        </div>
        <div class="stat">
            <div class="value" id="firstDepositAmount">0</div>
            <div>First deposit amount</div>
        </div>
    </div>
    <div class="no-data" id="noData">
        No data
    </div>

    <!-- Date Picker Modal -->
    <div class="date-modal-overlay" id="dateModalOverlay">
        <div class="date-modal">
            <div class="date-modal-header">
                <span class="cancel" id="cancelDate">Cancel</span>
                <span class="title">Choose a date</span>
                <span class="confirm" id="confirmDate">Confirm</span>
            </div>
            <div class="date-picker-row">
                <select id="year"></select>
                <select id="month"></select>
                <select id="day"></select>
            </div>
        </div>
    </div>
    <script>
        // --- Date Picker Logic ---
        const openDateModal = document.getElementById('openDateModal');
        const dateModalOverlay = document.getElementById('dateModalOverlay');
        const cancelDate = document.getElementById('cancelDate');
        const confirmDate = document.getElementById('confirmDate');
        const yearSel = document.getElementById('year');
        const monthSel = document.getElementById('month');
        const daySel = document.getElementById('day');
        const selectedDateSpan = document.getElementById('selectedDate');

        // Fill years, months, days
        function fillDateOptions() {
            const now = new Date();
            yearSel.innerHTML = '';
            for(let y=2022; y<=2025; y++) {
                yearSel.innerHTML += `<option value="${y}">${y}</option>`;
            }
            monthSel.innerHTML = '';
            for(let m=1; m<=12; m++) {
                monthSel.innerHTML += `<option value="${String(m).padStart(2,'0')}">${String(m).padStart(2,'0')}</option>`;
            }
            updateDays();
        }
        function updateDays() {
            const year = parseInt(yearSel.value);
            const month = parseInt(monthSel.value);
            const daysInMonth = new Date(year, month, 0).getDate();
            const prevDay = daySel.value;
            daySel.innerHTML = '';
            for(let d=1; d<=daysInMonth; d++) {
                daySel.innerHTML += `<option value="${String(d).padStart(2,'0')}">${String(d).padStart(2,'0')}</option>`;
            }
            if(prevDay && daySel.querySelector(`option[value="${prevDay}"]`)) {
                daySel.value = prevDay;
            }
        }
        yearSel && yearSel.addEventListener('change', updateDays);
        monthSel && monthSel.addEventListener('change', updateDays);

        // Open modal
        openDateModal.onclick = function() {
            fillDateOptions();
            // Set selects to current date
            const [y, m, d] = selectedDateSpan.textContent.split('-');
            yearSel.value = y;
            monthSel.value = m;
            updateDays();
            daySel.value = d;
            dateModalOverlay.classList.add('active');
        };
        // Cancel
        cancelDate.onclick = function() {
            dateModalOverlay.classList.remove('active');
        };
        // Confirm
        confirmDate.onclick = function() {
            const y = yearSel.value, m = monthSel.value, d = daySel.value;
            const dateStr = `${y}-${m}-${d}`;
            selectedDateSpan.textContent = dateStr;
            dateModalOverlay.classList.remove('active');
            // Update stats (all zero for now)
            document.getElementById('depositNumber').textContent = 0;
            document.getElementById('depositAmount').textContent = 0;
            document.getElementById('numBettors').textContent = 0;
            document.getElementById('totalBet').textContent = 0;
            document.getElementById('numFirstDeposit').textContent = 0;
            document.getElementById('firstDepositAmount').textContent = 0;
            document.getElementById('noData').style.display = '';
        };
    </script>
</body>
</html> 
